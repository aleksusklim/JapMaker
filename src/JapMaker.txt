JapMaker v1.1, by Kly_Men_COmpany!

Эта программа предназначена для создания небольших японских кроссвордов, которые гарантированно решаются. Алгоритм пытается решить заданное поле, чтобы показать, возможно ли на нём гарантированно найти ответ.

Управление - клавиатура и мышь (левая и правая кнопки).

Цвета поля:
Зелёный - клетка свободна по условию.
Синий - клетка закрашена по условию.
Желтый - режим решения, клетка вычислена как свободная.
Красный - режим решения, клетка вычислена как закрашенная.
Голубой - состояние клетки ещё не установлено (при отгадывании неизвестного).
Линии:
Чёрный - режим редактирования.
Белый - режим решения (если уже завершено).
Серый - ошибка-противоречие (при отгадывании неизвестного).
Заголовок окна:
В режиме редактирования - размеры поля и процент закрашенных клеток;
В режиме решения - процент,  насколько поле было корректно решено, в квадратных скобках - приблизительная сложность (кол-во пересчётов строк и столбов).
Сообщения об ошибке противоречия и о режиме разгадывания неизвестного тоже отображаются в заголовке.

Основные клавиши:
Левая кнопка мышки - закрашивать клетки;
Правая кнопка мышки - стирать клетки.
Удержание Shift или Ctrl - другая форма и толщина кисти.
Space - переход в режим решения и обратно.
До возврата в режим редактирования многие другие команды недоступны!
Z (Ctrl+Z) - отмена (история до 50 действий, некоторые операции сбрасывают её).
Y (Ctrl+Y, Shift+Z, Ctrl+Shift+Z) - повтор отменённого (история перезаписывается не сразу).
Enter - обратить поле.
Enter+Пробел - очистить поле.
Page Up - расширить поле.
Page Down - сузить поле (удаление краевых пустых строк и столбцов).
M - отразить поле (Shift+M - по вертикали; Ctrl+M - по диагонали)
Esc - выход. После нового запуска будет доступно автосохранение.
Ctrl+Enter - сбросить программу в начальное состояние (удобно сразу после старта).
При решении - удерживание Ctrl - просмотр хода операций построчно (замедляет, но иногда возвращает отклик программы); удерживание Ctrl+Shift - принудительный останов решателя (может потребоваться время).

Сохранение и загрузка:
S - сохранить состояние поля (и историю отмены).
L - загрузить состояние. В обоих случаях используется текущий слот.
Цифры от 0 до 9 - установка слота для загрузки и сохранения (0 по умолчанию).
Есть ещё один быстрый слот: F5 - сохранение, F6 - загрузка.
Ctrl+ 1-9 - Сохранение поля в текстовый документ (автоматические имя).
Shift+ 1-9 - Загрузка поля из текстового документа (всего 9 таких .txt слотов).
Ctrl+0 и Shift+0 - вручную выбор документа для сохранения или загрузки.
J - главная распечатка готового кроссворда и поля в выбранный .txt файл.
B - открытие вспомогательной картинки, накладываемой на поле в редакторе.
F9 - снять скриншот.
F4 - во весь экран (заголовок будет скрыт).
Delete - загрузить резервное сохранённое состояние.
Программа создаёт резервы почти перед каждым действием и опционально возвращается к ним в случае ошибки. После аварийного закрытия следует перезапустить её и первым делом нажать Delete!

Отгадывание неизвестного.
Японский кроссворд, который требуется решить, должен быть введён в текстовый документ в следующем формате (все данные - числа, разделённые пробелами) :
Первая строка - ширина поля.
Затем соответствующее количество строк, где каждая строка описывает столбцы поля слева направо, а числа в них перечисляются сверху вниз (для пустого столбца допускается "0").
Затем (на "ширина+1" строке) указывается высота поля.
Далее в соответствующих строках будет описание строк поля, снова глобально сверху вниз, а в строке слева направо.
Текущий рисунок на экране можно выгрузить в такой формат, нажатием Ctrl+Insert.
Для загрузки и разгадывания готового документа, нажмите Shift+Insert.
Неизвестные клетки окрасятся голубым цветом. 
Чтобы обозначить голубой вручную, зажмите обе кнопки мыши или клавишу Alt при рисовании.
Нажатие Space запустит алгоритм решения, опирающийся на входные данные, а не на текущее состояние поля, поэтому новые области будут решены и окрашены.
Процесс решения будет остановлен, когда не останется доступных ходов.
Если возникнет противоречие, это отобразится в заголовке окна, но решатель не остановится (нажмите Space чтобы сделать это принудительно).
Результаты автоматического решения можно подправлять обычным способом, но чтобы найденные клетки вступили в силу, требуется нажатие Insert (или ручное перерисовывание).
Способ борьбы с неоднозначностью такой - пробуйте закрасить синим или зелёным какую-нибудь голубую клетку, чтобы прорешать и добиться противоречия. Это будет означать, что она должна быть противоположного цвета. Если противоречий нет, то ищите другую клетку или основывайтесь на логике рисунка.
Поскольку алгоритм решателя медленный и слабый, программа, к сожалению, не способна в разумные сроки решить даже кроссворд средних размеров.
Чтобы вернуться к нормальной работе (тут недоступны почти никакие другие функции), нажмите Insert не в состоянии решения.
